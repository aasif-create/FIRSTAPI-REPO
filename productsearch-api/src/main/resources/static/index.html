<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>PRODUCT SEARCH ‚Äî Star Background</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="index.css">
</head>
<body>
  <canvas id="stars" aria-hidden="true"></canvas>

  <div class="site-content">
    <header class="hero">
      <div class="hero-inner">
        <h1 class="title">FOOD PRODUCTS SEARCH</h1>
        <p class="subtitle">SPRING BOOT API PROJECT</p>
        <p class="tagline">"A SIMPLE PROJECT TO SHOWCASE HOW AN API WORKS"</p>
        <a class="try-btn try-btn-lg" href="\fooditem\search.html" role="button" aria-label="Try now ‚Äî go to food search">
          <span class="btn-icon" aria-hidden="true">üçî</span>
          <span class="btn-text">TRY NOW</span>
        </a>
      </div>
    </header>

    <main class="container">
      <section class="card">
        <h2 class="section-title">Basic Workflow of a product search</h2>

        <div class="workflow-wrapper">
          <div class="flow vertical" id="flow-vertical">
            <div class="box">1.User [Searches an item]</div>
            <div class="arrow vertical">‚Üì</div>

            <div class="box">2.Frontend [Shows typing box & sends search]</div>
            <div class="arrow vertical">‚Üì</div>

            <div class="box">3.API Controller [Passes the request inside]</div>
            <div class="arrow vertical">‚Üì</div>

            <div class="box">4.Service Layer [Asks database for details]</div>
            <div class="arrow vertical">‚Üì</div>

            <div class="box">5.Repository Layer/Data Access Layer [Runs query to fetch data]</div>
            <div class="arrow vertical">‚Üì</div>

            <div class="box">6.Database [Finds matching items]</div>
            <div class="arrow vertical">‚Üì</div>

            <div class="box">7.Repository Layer/Data Access Layer [Sends data back to service]</div>
            <div class="arrow vertical">‚Üì</div>

            <div class="box">8.Service Layer [Collects and organizes results]</div>
            <div class="arrow vertical">‚Üì</div>

            <div class="box">9.API Controller [Sends results back]</div>
            <div class="arrow vertical">‚Üì</div>

            <div class="box">10.Frontend [Displays results to user]</div>
            <div class="arrow vertical">‚Üì</div>

            <div class="box">11.User [Views / selects item]</div>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
  (function(){
    const canvas = document.getElementById('stars');
    const ctx = canvas.getContext('2d', { alpha: true });
    let w = innerWidth, h = innerHeight;
    const DPR = Math.min(window.devicePixelRatio || 1, 2);

    function setSize(){
      w = innerWidth; h = innerHeight;
      canvas.width = Math.floor(w * DPR);
      canvas.height = Math.floor(h * DPR);
      canvas.style.width = w + 'px';
      canvas.style.height = h + 'px';
      ctx.setTransform(DPR, 0, 0, DPR, 0, 0);
    }
    setSize();

    function calcStarCount(){
      if (Math.min(w,h) < 600) return Math.floor((w*h)/6000);
      return Math.floor((w*h)/3000);
    }

    let STAR_COUNT = calcStarCount();
    let stars = [];
    let mouseX = w/2, mouseY = h/2;
    let running = true;

    function initStars(){
      STAR_COUNT = calcStarCount();
      stars = [];
      const maxR = Math.max(w,h) * 0.6;
      for (let i = 0; i < STAR_COUNT; i++){
        const r = Math.random() * maxR;
        const angle = Math.random() * Math.PI * 2;
        stars.push({
          r,
          angle,
          size: Math.random()*1.8 + 0.3,
          baseAlpha: 0.25 + Math.random()*0.75,
          twinklePhase: Math.random()*Math.PI*2,
          hue: 200 + Math.random()*140
        });
      }
    }
    initStars();

    window.addEventListener('resize', () => { setSize(); initStars(); });
    window.addEventListener('mousemove', (e) => { mouseX = e.clientX; mouseY = e.clientY; });
    window.addEventListener('touchmove', (e) => {
      if (e.touches && e.touches[0]) { mouseX = e.touches[0].clientX; mouseY = e.touches[0].clientY; }
    }, { passive: true });

    document.addEventListener('visibilitychange', () => { running = !document.hidden; if (running) requestAnimationFrame(loop); });

    let last = performance.now();
    function loop(now){
      if (!running) return;
      const dt = (now - last) / 1000;
      last = now;
      ctx.clearRect(0,0,w,h);

      const g = ctx.createLinearGradient(0,0,0,h);
      g.addColorStop(0, '#04050a');
      g.addColorStop(0.5, '#071017');
      g.addColorStop(1, '#000000');
      ctx.fillStyle = g;
      ctx.fillRect(0,0,w,h);

      const centerX = w/2 + (mouseX - w/2) * 0.02;
      const centerY = h/2 + (mouseY - h/2) * 0.02;
      const rotationSpeed = 0.02;

      for (let i = 0; i < stars.length; i++){
        const s = stars[i];
        s.angle += rotationSpeed * dt * (0.5 + (s.r / Math.max(w,h)));
        const alpha = s.baseAlpha * (0.6 + 0.4 * Math.sin((now/300) + s.twinklePhase));
        let x = centerX + Math.cos(s.angle) * s.r;
        let y = centerY + Math.sin(s.angle) * s.r * 0.6;
        const px = (mouseX - w/2) * (s.r / Math.max(w,h)) * 0.02;
        const py = (mouseY - h/2) * (s.r / Math.max(w,h)) * 0.02;
        x += px; y += py;

        const gradient = ctx.createRadialGradient(x, y, 0, x, y, s.size*6);
        gradient.addColorStop(0, `hsla(${s.hue}, 90%, 66%, ${alpha})`);
        gradient.addColorStop(0.45, `hsla(${s.hue}, 80%, 55%, ${alpha*0.28})`);
        gradient.addColorStop(1, 'rgba(0,0,0,0)');
        ctx.fillStyle = gradient;
        ctx.beginPath();
        ctx.arc(x, y, s.size*6, 0, Math.PI*2);
        ctx.fill();

        ctx.fillStyle = `hsla(${s.hue}, 90%, 75%, ${Math.min(1, alpha+0.25)})`;
        ctx.beginPath();
        ctx.arc(x, y, s.size, 0, Math.PI*2);
        ctx.fill();
      }

      requestAnimationFrame(loop);
    }

    requestAnimationFrame(loop);

    window._starfield = {
      regenerate: () => { initStars(); },
      setLowPowerMode: () => { STAR_COUNT = Math.floor((w*h)/8000); initStars(); }
    };

    setTimeout(() => { setSize(); initStars(); }, 120);
  })();
  </script>
</body>
</html>
